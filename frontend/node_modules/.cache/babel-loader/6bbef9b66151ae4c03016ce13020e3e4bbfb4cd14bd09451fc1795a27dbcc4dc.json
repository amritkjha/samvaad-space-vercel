{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import NewCommunityModal from'./NewCommunityModal';import SearchCommunityModal from'./SearchCommunityModal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatList=_ref=>{let{setRoom}=_ref;let navigate=useNavigate();const[communityModal,setCommunityModal]=useState(false);const[searchCommunityModal,setSearchCommunityModal]=useState(false);// const data = [\n//   {\n//     initials: \"AJ\",\n//     name: \"Amrit Jha\",\n//     lastMessage: \"Radhe Radhe\"\n//   },\n//   {\n//     initials: \"AK\",\n//     name: \"Arvind Kejriwal\",\n//     lastMessage: \"Vibhav pakda gaya\"\n//   },\n//   {\n//     initials: \"NM\",\n//     name: \"Narendra Modi\",\n//     lastMessage: \"Meloni ne block kar diya\"\n//   },\n//   {\n//     initials: \"RG\",\n//     name: \"Rahul Gandhi\",\n//     lastMessage: \"Italy jana h yrr\"\n//   },\n//   {\n//     initials: \"AY\",\n//     name: \"Adityanath Yogi\",\n//     lastMessage: \"POK lena h is baar\"\n//   },\n//   {\n//     initials: \"EM\",\n//     name: \"Elon Musk\",\n//     lastMessage: \"Namaste bhaiya\"\n//   },\n// ]\nconst[data,setData]=useState([]);useEffect(()=>{axios.post(\"\".concat(window.location.origin,\"/api/community/communities-joined\"),{username:localStorage.getItem('userName')}).then(res=>{console.log('community list',res.data.community_list);setData(res.data.community_list);}).catch(error=>{console.log('error',error);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-5 h-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-[70%] overflow-y-scroll\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"\",children:data===null||data===void 0?void 0:data.map(person=>{var _person$name,_person$description;return/*#__PURE__*/_jsxs(\"li\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-[orange] rounded-full p-3 my-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:(person===null||person===void 0?void 0:person.initials)||'NC'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mx-3 cursor-pointer w-full\",onClick:()=>setRoom(person===null||person===void 0?void 0:person.community_id),children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-bold\",children:person===null||person===void 0?void 0:(_person$name=person.name)===null||_person$name===void 0?void 0:_person$name.substr(0,20)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs\",children:\"\".concat(person===null||person===void 0?void 0:(_person$description=person.description)===null||_person$description===void 0?void 0:_person$description.substr(0,27))})]})]});})})}),/*#__PURE__*/_jsx(\"div\",{className:\"h-[35%]\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"border rounded text-center mb-3 mt-2\",role:\"button\",onClick:()=>setCommunityModal(true),children:\"+ Create Community\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border rounded text-center mb-3 mt-2\",role:\"button\",onClick:()=>setSearchCommunityModal(true),children:\"+ Join Community\"}),communityModal&&/*#__PURE__*/_jsx(NewCommunityModal,{setCommunityModal:setCommunityModal}),searchCommunityModal&&/*#__PURE__*/_jsx(SearchCommunityModal,{setSearchCommunityModal:setSearchCommunityModal}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"rounded p-3 bg-[red]\",onClick:()=>{localStorage.removeItem('accessToken');navigate('/get-started');},children:\"Logout\"})})]})})]});};export default ChatList;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","axios","NewCommunityModal","SearchCommunityModal","jsx","_jsx","jsxs","_jsxs","ChatList","_ref","setRoom","navigate","communityModal","setCommunityModal","searchCommunityModal","setSearchCommunityModal","data","setData","post","concat","window","location","origin","username","localStorage","getItem","then","res","console","log","community_list","catch","error","className","children","map","person","_person$name","_person$description","initials","onClick","community_id","name","substr","description","role","removeItem"],"sources":["E:/deployment/backend/frontend/src/pages/ChatPage/ChatList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios'\r\nimport NewCommunityModal from './NewCommunityModal';\r\nimport SearchCommunityModal from './SearchCommunityModal';\r\n\r\nconst ChatList = ({setRoom}) => {\r\n  let navigate = useNavigate();\r\n  const [ communityModal, setCommunityModal ] = useState(false);\r\n  const [ searchCommunityModal, setSearchCommunityModal ] = useState(false);\r\n  // const data = [\r\n  //   {\r\n  //     initials: \"AJ\",\r\n  //     name: \"Amrit Jha\",\r\n  //     lastMessage: \"Radhe Radhe\"\r\n  //   },\r\n  //   {\r\n  //     initials: \"AK\",\r\n  //     name: \"Arvind Kejriwal\",\r\n  //     lastMessage: \"Vibhav pakda gaya\"\r\n  //   },\r\n  //   {\r\n  //     initials: \"NM\",\r\n  //     name: \"Narendra Modi\",\r\n  //     lastMessage: \"Meloni ne block kar diya\"\r\n  //   },\r\n  //   {\r\n  //     initials: \"RG\",\r\n  //     name: \"Rahul Gandhi\",\r\n  //     lastMessage: \"Italy jana h yrr\"\r\n  //   },\r\n  //   {\r\n  //     initials: \"AY\",\r\n  //     name: \"Adityanath Yogi\",\r\n  //     lastMessage: \"POK lena h is baar\"\r\n  //   },\r\n  //   {\r\n  //     initials: \"EM\",\r\n  //     name: \"Elon Musk\",\r\n  //     lastMessage: \"Namaste bhaiya\"\r\n  //   },\r\n  // ]\r\n  const [ data, setData ] = useState([])\r\n  useEffect(() => {\r\n    axios\r\n      .post(`${window.location.origin}/api/community/communities-joined`, {username: localStorage.getItem('userName')})\r\n      .then((res) => {\r\n        console.log('community list', res.data.community_list);\r\n        setData(res.data.community_list);\r\n      })\r\n      .catch((error) => {\r\n        console.log('error', error);\r\n      })\r\n  }, [])\r\n  return (\r\n    <div className='p-5 h-full'>\r\n      <div className='h-[70%] overflow-y-scroll'><ul className=''>\r\n        {data?.map((person)=>{return (<li className='flex'>\r\n          <div className='bg-[orange] rounded-full p-3 my-2'><span className='text-sm'>{person?.initials || 'NC'}</span></div>\r\n          <div className='mx-3 cursor-pointer w-full' onClick={()=>setRoom(person?.community_id)}>\r\n            <p className='text-sm font-bold'>{person?.name?.substr(0, 20)}</p>\r\n            <p className='text-xs'>{`${person?.description?.substr(0, 27)}`}</p>\r\n          </div>\r\n        </li>)})}\r\n      </ul></div>\r\n      <div className='h-[35%]'><ul>\r\n        <div className='border rounded text-center mb-3 mt-2' role='button' onClick={()=>setCommunityModal(true)}>+ Create Community</div>\r\n        <div className='border rounded text-center mb-3 mt-2' role='button' onClick={()=>setSearchCommunityModal(true)}>+ Join Community</div>\r\n        {communityModal && <NewCommunityModal setCommunityModal={setCommunityModal} />}\r\n        {searchCommunityModal && <SearchCommunityModal setSearchCommunityModal={setSearchCommunityModal} />}\r\n        <div>\r\n          <button className='rounded p-3 bg-[red]' onClick={()=>{localStorage.removeItem('accessToken');navigate('/get-started')}}>Logout</button>\r\n        </div>\r\n      </ul></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ChatList\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}