{"ast":null,"code":"import axios from'axios';import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchCommunityModal=_ref=>{let{setSearchCommunityModal}=_ref;const[data,setData]=useState([]);const handleCommunitySearch=e=>{e.target.value.length>0?axios.post(\"\".concat(window.location.origin,\"/api/community/community-list\"),{searchQuery:e.target.value}).then(res=>{console.log('community list',res);setData(res.data.community_list);}).catch(error=>{console.log('error',error);}):setData([]);};const handleCommunityJoin=e=>{const member_id=localStorage.getItem('userName');const community_id=e.target.id;axios.post(\"\".concat(window.location.origin,\"/api/community/join-community\"),{community_id,member_id}).then(res=>{console.log('community joined',res);alert(res.data.message);}).catch(error=>{if(error.response.status===400)alert(error.response.data.message);console.log('error',error);});};return/*#__PURE__*/_jsx(\"div\",{id:\"authentication-modal\",tabindex:\"-1\",\"aria-hidden\":\"true\",class:\"backdrop-blur overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center h-full w-full md:inset-0 h-[calc(100%-1rem)] max-h-full\",children:/*#__PURE__*/_jsx(\"div\",{class:\"relative p-4 w-full max-w-md max-h-full mx-auto h-full\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"relative h-[50%] bg-[#005f3f]/[0.73] rounded-lg shadow dark:bg-[#005f3f]-700 my-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600\",children:[/*#__PURE__*/_jsx(\"h3\",{class:\"text-xl font-semibold dark:text-white\",children:\"Join a Community\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",class:\"end-2.5 bg-transparent hover:bg-gray-200 hover rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white\",onClick:()=>setSearchCommunityModal(false),children:[/*#__PURE__*/_jsx(\"svg\",{class:\"w-3 h-3\",\"aria-hidden\":\"true\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 14 14\",children:/*#__PURE__*/_jsx(\"path\",{stroke:\"currentColor\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",d:\"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6\"})}),/*#__PURE__*/_jsx(\"span\",{class:\"sr-only\",children:\"Close modal\"})]})]}),/*#__PURE__*/_jsx(\"div\",{class:\"p-4 md:p-5 h-full\",children:/*#__PURE__*/_jsx(\"form\",{class:\"space-y-4 h-full\",action:\"#\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"h-full\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",class:\"block mb-2 text-sm font-medium dark:text-white\",children:\"Name / CommunityID\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 h-[60%] border border-gray-300 rounded-lg dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",class:\"text-sm text-black focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 border-b\",placeholder:\"Big Bull\",onChange:handleCommunitySearch,required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-y-scroll max-h-[60%] \".concat(data.length>0?'visible':'invisible'),children:data===null||data===void 0?void 0:data.map(community=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-black w-full p-2.5 flex\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[community===null||community===void 0?void 0:community.name,\" - @\",community===null||community===void 0?void 0:community.community_id]}),/*#__PURE__*/_jsx(\"p\",{className:\"ms-auto\",role:\"button\",id:community===null||community===void 0?void 0:community.community_id,onClick:handleCommunityJoin,children:\"+Join\"})]});})})]})]})})})]})})});};export default SearchCommunityModal;","map":{"version":3,"names":["axios","React","useState","jsx","_jsx","jsxs","_jsxs","SearchCommunityModal","_ref","setSearchCommunityModal","data","setData","handleCommunitySearch","e","target","value","length","post","concat","window","location","origin","searchQuery","then","res","console","log","community_list","catch","error","handleCommunityJoin","member_id","localStorage","getItem","community_id","id","alert","message","response","status","tabindex","class","children","type","onClick","xmlns","fill","viewBox","stroke","d","action","className","for","name","placeholder","onChange","required","map","community","role"],"sources":["E:/deployment/backend/frontend/src/pages/ChatPage/SearchCommunityModal.js"],"sourcesContent":["import axios from 'axios'\r\nimport React, { useState } from 'react'\r\n\r\nconst SearchCommunityModal = ({ setSearchCommunityModal }) => {\r\n    const [ data, setData ] = useState([])\r\n    const handleCommunitySearch = (e) => {\r\n        e.target.value.length > 0 ? axios\r\n        .post(`${window.location.origin}/api/community/community-list`, {searchQuery: e.target.value})\r\n        .then((res) => {\r\n          console.log('community list', res);\r\n          setData(res.data.community_list);\r\n        })\r\n        .catch((error) => {\r\n          console.log('error', error);\r\n        }) : setData([])\r\n    }\r\n    const handleCommunityJoin = (e) => {\r\n      const member_id = localStorage.getItem('userName');\r\n      const community_id = e.target.id;\r\n      axios\r\n        .post(`${window.location.origin}/api/community/join-community`, {community_id, member_id})\r\n        .then((res) => {\r\n          console.log('community joined', res);\r\n          alert(res.data.message);\r\n        })\r\n        .catch((error) => {\r\n          if(error.response.status === 400)alert(error.response.data.message);\r\n          console.log('error', error);\r\n        })\r\n    }\r\n  return (\r\n    <div\r\n      id=\"authentication-modal\"\r\n      tabindex=\"-1\"\r\n      aria-hidden=\"true\"\r\n      class=\"backdrop-blur overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center h-full w-full md:inset-0 h-[calc(100%-1rem)] max-h-full\"\r\n    >\r\n      <div class=\"relative p-4 w-full max-w-md max-h-full mx-auto h-full\">\r\n        <div class=\"relative h-[50%] bg-[#005f3f]/[0.73] rounded-lg shadow dark:bg-[#005f3f]-700 my-auto\">\r\n          <div class=\"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600\">\r\n            <h3 class=\"text-xl font-semibold dark:text-white\">\r\n              Join a Community\r\n            </h3>\r\n            <button\r\n              type=\"button\"\r\n              class=\"end-2.5 bg-transparent hover:bg-gray-200 hover rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white\"\r\n              onClick={() => setSearchCommunityModal(false)}\r\n            >\r\n              <svg\r\n                class=\"w-3 h-3\"\r\n                aria-hidden=\"true\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 14 14\"\r\n              >\r\n                <path\r\n                  stroke=\"currentColor\"\r\n                  stroke-linecap=\"round\"\r\n                  stroke-linejoin=\"round\"\r\n                  stroke-width=\"2\"\r\n                  d=\"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6\"\r\n                />\r\n              </svg>\r\n              <span class=\"sr-only\">Close modal</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"p-4 md:p-5 h-full\">\r\n            <form class=\"space-y-4 h-full\" action=\"#\">\r\n              <div className='h-full'>\r\n                <label\r\n                  for=\"email\"\r\n                  class=\"block mb-2 text-sm font-medium dark:text-white\"\r\n                >\r\n                  Name / CommunityID\r\n                </label>\r\n                <div className='bg-gray-50 h-[60%] border border-gray-300 rounded-lg dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white'>\r\n                    <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    id=\"email\"\r\n                    class=\"text-sm text-black focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 border-b\"\r\n                    placeholder=\"Big Bull\"\r\n                    onChange={handleCommunitySearch}\r\n                    required\r\n                    />\r\n                    <div className={`overflow-y-scroll max-h-[60%] ${data.length>0?'visible':'invisible'}`}>{data?.map((community)=>{return (<div className='text-sm text-black w-full p-2.5 flex'>\r\n                        <p>{community?.name} - @{community?.community_id}</p>\r\n                        <p className='ms-auto' role='button' id={community?.community_id} onClick={handleCommunityJoin}>+Join</p>\r\n                    </div>)})}</div>\r\n                </div>\r\n              </div>\r\n              {/* <div>\r\n                <label\r\n                  for=\"password\"\r\n                  class=\"block mb-2 text-sm font-medium dark:text-white\"\r\n                >\r\n                  Description\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"description\"\r\n                  id=\"password\"\r\n                  placeholder=\"Group for share market tips\"\r\n                  class=\"bg-gray-50 border border-gray-300 text-sm rounded-lg text-black focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\"\r\n                  required\r\n                />\r\n              </div> */}\r\n              {/* <div class=\"flex justify-between\">\r\n                <div class=\"flex items-start\">\r\n                  <div class=\"flex items-center h-5\">\r\n                    <input\r\n                      id=\"remember\"\r\n                      type=\"checkbox\"\r\n                      value=\"\"\r\n                      class=\"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300 dark:bg-gray-600 dark:border-gray-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <label for=\"remember\" class=\"ms-2 text-sm font-medium dark\">\r\n                    Remember me\r\n                  </label>\r\n                </div>\r\n                <a\r\n                  href=\"#\"\r\n                  class=\"text-sm text-blue-700 hover:underline dark:text-blue-500\"\r\n                >\r\n                  Lost Password?\r\n                </a>\r\n              </div> */}\r\n              {/* <button\r\n                type=\"submit\"\r\n                class=\"w-full text-white bg-orange-700 hover:bg-orange-800 focus:ring-4 focus:outline-none focus:ring-orange-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-orange-600 dark:hover:bg-orange-700 dark:focus:ring-orange-800\"\r\n              >\r\n                Create community\r\n              </button> */}\r\n              {/* <div class=\"text-sm font-medium dark\">\r\n                Not registered?{\" \"}\r\n                <a\r\n                  href=\"#\"\r\n                  class=\"text-blue-700 hover:underline dark:text-blue-500\"\r\n                >\r\n                  Create account\r\n                </a>\r\n              </div> */}\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SearchCommunityModal\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}